#!/bin/sh

# Get its remaining capacity and charge status.
capacity=$(termux-battery-status | jq '.percentage') || break
status=$(termux-battery-status | jq '.status')
case "$status" in
  '"DISCHARGING"') status="ğŸ”‹" ;;
  '"NOT CHARGING"') status="ğŸ›‘" ;;
  #'"CHARGING"') status="â™»"  ;;
  '"CHARGING"') status="ğŸ”Œ" ;;
  '"FULL"') status="âš¡" ;;
  *) status="â™»ï¸" ;;
esac
warn=""
# If it is discharging and 25% or less, we will add a â— as a warning.
[ "$capacity" -le 25 ] && [ "$status" = "ğŸ”‹" ] && warn="â—"

printf "%s%s%s%% " "$status" "$warn" "$capacity"
unset warn
